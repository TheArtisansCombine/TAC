<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>The Artisans Combine | Events</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&display=swap" rel="stylesheet">
    <!-- Tailwind CSS CDN for easy styling -->
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- Font Awesome for icons (e.g., loading spinner, arrow icons) -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
    <style>
        body {
            font-family: 'Inter', sans-serif;
        }
        .bg-artsy-gradient {
            background-image: radial-gradient(at 0% 0%, #fafafa 0%, #e5e7eb 100%);
        }
        .card-hover-effect {
            transition: transform 0.3s ease-in-out, box-shadow 0.3s ease-in-out;
        }
        .card-hover-effect:hover {
            transform: translateY(-8px);
            box-shadow: 0 10px 15px rgba(0,0,0,0.1), 0 4px 6px rgba(0,0,0,0.05);
        }
        /* Ensure consistent height for cards within a row */
        .grid > a {
            display: flex;
            flex-direction: column;
            height: 100%; /* Important for stretching */
        }
        .grid > a .p-4 {
            flex-grow: 1; /* Allows content area to expand */
            display: flex;
            flex-direction: column;
            justify-content: space-between; /* Pushes "Learn More" to bottom */
        }
    </style>
</head>
<body class="bg-artsy-gradient text-gray-800">

    <!-- Header & Navigation -->
    <header class="bg-gradient-to-r from-teal-400 to-fuchsia-600 shadow-sm sticky top-0 z-50">
        <div class="container mx-auto px-4 py-4 flex justify-between items-center max-w-7xl">
            <a href="index.html" class="h-10">
                <img src="images/TAC-1_2_2.png" alt="The Artisans Combine Logo" class="h-full w-auto object-contain">
            </a>
            <nav class="hidden md:flex space-x-6">
                <a href="index.html" class="text-white hover:text-gray-200 transition-colors">Home</a>
                <a href="index.html#about" class="text-white hover:text-gray-200 transition-colors">Our Mission</a>
                <a href="artisans.html" class="text-white hover:text-gray-200 transition-colors">Artisan Profiles</a>
                <a href="gallery.html" class="text-white hover:text-gray-200 transition-colors">Artisan Gallery</a>
                <a href="opportunities.html" class="text-white hover:text-gray-200 transition-colors">Opportunities</a>
                <a href="index.html#contact" class="text-white hover:text-gray-200 transition-colors">Contact</a>
            </nav>
            <a href="index.html#contact" class="md:hidden bg-white text-gray-800 px-4 py-2 rounded-md hover:bg-gray-200 transition-opacity">Join Us</a>
        </div>
    </header>

    <main class="container mx-auto px-4 max-w-7xl py-12 md:py-20">
        <h1 class="text-4xl sm:text-5xl lg:text-6xl font-extrabold text-gray-900 text-center mb-8">
            Upcoming Events
        </h1>
        <p class="text-lg md:text-xl text-gray-600 text-center max-w-2xl mx-auto mb-16">
            Join us at our upcoming events, workshops, and gatherings to celebrate local artistry and connect with the community.
        </p>

        <!-- Timed Events -->
        <section class="mb-12">
            <h2 class="text-3xl font-bold text-gray-900 text-center md:text-left mb-4">Timed Events</h2>
            <p class="text-lg text-gray-600 max-w-2xl mx-auto mb-6">
                Don't miss these special events with specific dates and times, featuring a variety of artistic expressions.
            </p>
            <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8">
                <!-- Intro to Manga Art with Ryan McCarthy -->
                <a href="https://events.getlocalhop.com/intro-to-manga-art-with-artist-ryan-mccarthy/event/rrJhZm5eqx/" target="_blank" class="block bg-white rounded-lg shadow-md overflow-hidden card-hover-effect flex">
                    <img src="images/manga.jpg" alt="Intro to Manga Art" class="w-full h-48 object-cover">
                    <div class="p-4 flex flex-col justify-between">
                        <div>
                            <h3 class="text-lg font-semibold text-gray-900 mb-1">Intro to Manga Art</h3>
                            <p class="text-fuchsia-600 font-medium text-sm mb-2">August 7, 2025 | 2:00 PM</p>
                            <p class="text-gray-600 text-xs">Learn the basics of manga art from published artist Ryan McCarthy in this hands-on workshop. Location: Southwick Public Library, Southwick, MA.</p>
                        </div>
                        <span class="text-fuchsia-600 hover:underline text-sm mt-2 inline-block">Learn More <i class="fas fa-arrow-right text-xs ml-1"></i></span>
                    </div>
                </a>
                <!-- Arcadia Folk Festival -->
                <a href="https://www.arcadiafolkfest.com/" target="_blank" class="block bg-white rounded-lg shadow-md overflow-hidden card-hover-effect flex">
                    <img src="images/arcadia.png" alt="Arcadia Folk Festival" class="w-full h-48 object-cover">
                    <div class="p-4 flex flex-col justify-between">
                        <div>
                            <h3 class="text-lg font-semibold text-gray-900 mb-1">Arcadia Folk Festival 2025</h3>
                            <p class="text-fuchsia-600 font-medium text-sm mb-2">August 22-23, 2025</p>
                            <p class="text-gray-600 text-xs">A two-day festival featuring folk artists, live music, and performances. Location: Easthampton, MA.</p>
                        </div>
                        <span class="text-fuchsia-600 hover:underline text-sm mt-2 inline-block">Learn More <i class="fas fa-arrow-right text-xs ml-1"></i></span>
                    </div>
                </a>
                <!-- Old Deerfield Holiday Craft Fair -->
                <a href="https://deerfield-craft.org/" target="_blank" class="block bg-white rounded-lg shadow-md overflow-hidden card-hover-effect flex">
                    <img src="images/craftfair.webp" alt="Craft Fair" class="w-full h-48 object-cover">
                    <div class="p-4 flex flex-col justify-between">
                        <div>
                            <h3 class="text-lg font-semibold text-gray-900 mb-1">Old Deerfield Holiday Craft Fair</h3>
                            <p class="text-fuchsia-600 font-medium text-sm mb-2">November 15-16, 2025</p>
                            <p class="text-gray-600 text-xs">Join over 200 juried crafters and artists for a showcase of unique handmade goods. Location: Eastern States Exposition, West Springfield, MA.</p>
                        </div>
                        <span class="text-fuchsia-600 hover:underline text-sm mt-2 inline-block">Learn More <i class="fas fa-arrow-right text-xs ml-1"></i></span>
                    </div>
                </a>
            </div>
        </section>

        <!-- Ongoing or Recurring Events -->
        <section class="py-12 bg-gray-100 rounded-lg">
            <h2 class="text-3xl font-bold text-gray-900 text-center md:text-left mb-4">Ongoing & Recurring Events</h2>
            <p class="text-lg text-gray-600 max-w-2xl mx-auto mb-6">
                Explore continuous series and regular gatherings that foster creativity and community engagement.
            </p>
            <div class="grid grid-cols-1 md:grid-cols-2 gap-8">
                <!-- First Friday ArtsWalk -->
                <a href="https://www.firstfridaysartswalk.com/" target="_blank" class="block bg-white rounded-lg shadow-md overflow-hidden flex flex-col card-hover-effect">
                    <img src="images/artswalk.jpg" alt="ArtsWalk" class="w-full h-48 object-cover">
                    <div class="p-4 flex flex-col justify-between">
                        <div>
                            <h3 class="text-xl font-semibold text-gray-900 mb-2">First Friday ArtsWalk</h3>
                            <p class="text-fuchsia-600 font-medium text-sm mb-2">Every First Friday | 5:00 PM - 8:00 PM</p>
                            <p class="text-gray-600 text-xs">Experience art openings, live music, and performances throughout downtown Pittsfield. Location: Downtown Pittsfield, MA.</p>
                        </div>
                        <span class="text-fuchsia-600 hover:underline text-sm mt-2 inline-block">Learn More <i class="fas fa-arrow-right text-xs ml-1"></i></span>
                    </div>
                </a>
                <!-- The Mount Poetry & Performance -->
                <a href="https://edithwharton.org/calendar/poetry-performance/" target="_blank" class="block bg-white rounded-lg shadow-md overflow-hidden flex flex-col card-hover-effect">
                    <img src="images/mount.png" alt="Poetry Reading" class="w-full h-48 object-cover">
                    <div class="p-4 flex flex-col justify-between">
                        <div>
                            <h3 class="text-xl font-semibold text-gray-900 mb-2">Poetry & Performance Series</h3>
                            <p class="text-fuchsia-600 font-medium text-sm mb-2">Ongoing Dates | Various times</p>
                            <p class="text-gray-600 text-xs">A series of site-responsive programs incorporating poetry, spoken word, theater, and dance. Location: The Mount, Lenox, MA.</p>
                        </div>
                        <span class="text-fuchsia-600 hover:underline text-sm mt-2 inline-block">Learn More <i class="fas fa-arrow-right text-xs ml-1"></i></span>
                    </div>
                </a>
            </div>
        </section>

        <!-- Find Local Events Section - New Tool -->
        <section class="mt-12 bg-white rounded-lg shadow-md p-8">
            <h2 class="text-3xl font-bold text-gray-900 text-center mb-4">Find Local Events 🔍</h2>
            <p class="text-lg text-gray-600 max-w-2xl mx-auto mb-6">
                Use our search tool to find upcoming art events, music performances, workshops, and festivals near you.
            </p>
            <div class="max-w-xl mx-auto space-y-4">
                <input type="text" id="eventLocationInput" class="w-full p-3 rounded-md border border-gray-300 focus:outline-none focus:ring-2 focus:ring-fuchsia-400" placeholder="e.g., 'Northampton, MA', 'Springfield, MA', 'Pittsfield, MA'">
                <div class="flex justify-center space-x-4">
                    <button id="searchEventsBtn" class="bg-gradient-to-r from-teal-400 to-fuchsia-600 text-white font-semibold py-3 px-8 rounded-full shadow-lg hover:opacity-90 transition-transform transform hover:scale-105">
                        Search Events
                    </button>
                    <button id="clearEventsSearchBtn" class="bg-gray-300 text-gray-800 font-semibold py-3 px-8 rounded-full shadow-lg hover:bg-gray-400 transition-transform transform hover:scale-105">
                        Clear Search
                    </button>
                </div>
                <div id="loadingEventsIndicator" class="hidden mt-4 text-fuchsia-600 font-semibold flex items-center justify-center">
                    <i class="fas fa-spinner fa-spin mr-2"></i> Searching...
                </div>
                <div id="eventSearchResults" class="mt-6 space-y-4 text-left">
                    <!-- Search results will be displayed here -->
                </div>
            </div>
        </section>

        <div class="mt-16 text-center">
            <a href="index.html" class="text-gray-600 hover:text-fuchsia-600 transition-colors inline-flex items-center space-x-2">
                <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" viewBox="0 0 20 20" fill="currentColor">
                    <path fill-rule="evenodd" d="M9.707 14.707a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414l4-4a1 1 0 011.414 1.414L7.414 9H15a1 1 0 110 2H7.414l2.293 2.293a1 1 0 010 1.414z" clip-rule="evenodd" />
                </svg>
                <span>Back to The Artisans Combine</span>
            </a>
        </div>
    </main>

    <!-- Footer -->
    <footer class="bg-gray-900 text-gray-400 py-8 mt-10">
        <div class="container mx-auto px-4 text-center">
            <p>&copy; 2025 The Artisans Combine. All rights reserved.</p>
        </div>
    </footer>

    <script>
        document.getElementById('searchEventsBtn').addEventListener('click', async () => {
            const locationInput = document.getElementById('eventLocationInput');
            const searchResultsDiv = document.getElementById('eventSearchResults');
            const loadingIndicator = document.getElementById('loadingEventsIndicator');
            const location = locationInput.value.trim();

            if (!location) {
                searchResultsDiv.innerHTML = '<p class="text-red-500">Please enter a location to search.</p>';
                return;
            }

            loadingIndicator.classList.remove('hidden');
            searchResultsDiv.innerHTML = ''; // Clear previous results

            const queries = [
                `art events ${location} 2025-2026`,
                `music events ${location} 2025-2026`,
                `workshops ${location} 2025-2026`,
                `festivals ${location} 2025-2026`
            ];

            try {
                // Call the google_search tool
                const searchResults = await google_search.search(queries);

                loadingIndicator.classList.add('hidden');

                if (searchResults && searchResults.length > 0) {
                    let allResultsHtml = '';
                    searchResults.forEach(searchResult => {
                        if (searchResult.results && searchResult.results.length > 0) {
                            allResultsHtml += `<h3 class="text-xl font-semibold text-gray-900 mt-4 mb-2">Results for: "${searchResult.query}"</h3>`;
                            searchResult.results.forEach(item => {
                                allResultsHtml += `
                                    <div class="bg-white p-4 rounded-lg shadow-sm border border-gray-200">
                                        <h4 class="text-lg font-semibold text-gray-800">${item.source_title || 'No Title'}</h4>
                                        <p class="text-gray-600 text-sm">${item.snippet || 'No description available.'}</p>
                                        ${item.url ? `<a href="${item.url}" target="_blank" class="text-fuchsia-600 hover:underline text-sm mt-2 inline-block">Learn More <i class="fas fa-arrow-right text-xs ml-1"></i></a>` : ''}
                                    </div>
                                `;
                            });
                        }
                    });

                    if (allResultsHtml === '') {
                        searchResultsDiv.innerHTML = `<p class="text-gray-600">No events found for "${location}". Try a different location or broader terms.</p>`;
                    } else {
                        searchResultsDiv.innerHTML = allResultsHtml;
                    }
                } else {
                    searchResultsDiv.innerHTML = `<p class="text-gray-600">No events found for "${location}". Try a different location or broader terms.</p>`;
                }

            } catch (error) {
                loadingIndicator.classList.add('hidden');
                searchResultsDiv.innerHTML = `<p class="text-red-500">An error occurred while searching for events. Please try again later.</p>`;
                console.error("Search API error:", error);
            }
        });

        // Clear Search Button functionality for events
        document.getElementById('clearEventsSearchBtn').addEventListener('click', () => {
            document.getElementById('eventLocationInput').value = '';
            document.getElementById('eventSearchResults').innerHTML = '';
        });
    </script>

</body>
</html>
